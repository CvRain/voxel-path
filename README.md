# Voxel Path: Artisan's Realm

这是一个基于 Godot 4 开发的高精度体素沙盒游戏项目。目标是构建一个拥有微体素（0.25m）、超高地形（1024高度限制）沉浸式建造世界。
本项目参考了很多知名的模组，比如“机械动力”，沉浸系列，匠魂等模组。我的世界是一款无法超越的沙盒游戏，我从中找到了不少灵感， 尝试制作一款以建造与机械相关的沙盒游戏。

## 🌟 项目愿景

- **微体素世界**：基础体素大小为 0.25m，允许极其精细的建筑和雕刻。
- **宏大地形**：支持 3072 格高度的垂直空间，配合 64x64x3072 的区块结构。

## 🚀 当前进度 (2025.11.22)

### 1. 核心体素引擎
- **区块系统 (Chunk System)**: 实现了 64x64x1024 的超大区块渲染。
- **地形生成**: 使用 `FastNoiseLite` 生成地形，目前采用 4x4x4 微方块（即 1m³）作为地形生成的基本单位，既保证了生成速度，又保留了微调的潜力。
- **数据结构**: 基于 JSON 的方块注册系统 (`Data/blocks`)，支持自定义纹理和属性。

### 2. 玩家控制器
- **移动系统**: 实现了标准的 FPS 移动，包括行走、冲刺、跳跃。
- **自动跳跃 (Auto-step)**: 玩家可以自动跨越 1 个微方块高度的障碍，移动更加流畅。
- **飞行/穿墙模式**: 方便调试和建造。

### 3. 交互与高亮系统 (本次更新重点)
- **基于笔刷的交互**: 摒弃了传统的单方块选择，采用“笔刷”概念。
    - 支持不同尺寸的笔刷 (如 4x4x4, 2x2x2)。
    - 选择区域**以准星指向的方块为中心**向外扩展，而非简单的网格吸附。
- **高级高亮显示 (Voxel Highlighter)**:
    - **MultiMesh 渲染**: 使用 `MultiMeshInstance3D` 高效渲染成百上千个选择框。
    - **智能过滤**: 仅高亮显示**实际存在**的方块，空气方块不会显示线框。
    - **深度感知**: 线框具有深度遮挡关系，不会像 X 光一样穿透墙壁。
    - **荧光特效**: 自定义 Shader 实现无光照的荧光线框效果，清晰且美观。

## 🎮 操作说明

- **W/A/S/D**: 移动
- **Space**: 跳跃 / 向上飞行
- **Shift**: 冲刺 / 向下飞行
- **F**: 切换飞行模式
- **V**: 切换穿墙 (Noclip) 模式
- **鼠标左键**: 破坏方块 (当前笔刷范围内)
- **鼠标右键**: 放置方块 (当前笔刷范围内)
- **鼠标滚轮**: (计划中) 调整笔刷大小

## 🛠️ 技术细节

### 目录结构
```
Scenes/
  PlayerController/    # 玩家逻辑与高亮系统
  RandomWorld/         # 随机地形生成测试场景
  TestWorld/           # 基础功能测试场景
Scripts/
  Voxel/               # 核心体素逻辑 (Chunk, BlockManager)
  Core/                # 基础工具 (Config, Constants)
Data/
  blocks/              # 方块定义 JSON
Assets/                # 纹理与资源
```

### 最近更新日志
- **修复**: 解决了高亮框透过墙壁显示的问题 (X-ray fix)。
- **重构**: 将高亮显示从单一的大包围盒改为显示每个微方块的独立网格。
- **优化**: 交互逻辑现在会检查 `RandomWorld` 中的方块数据，只对非空气方块进行高亮。
- **调整**: 修正了笔刷选择逻辑，现在选择框会正确地以玩家视线落点为中心。